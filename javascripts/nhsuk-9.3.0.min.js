!function(){var e={621:function(){NodeList.prototype.forEach||(NodeList.prototype.forEach=Array.prototype.forEach),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{enumerable:!1,value:function(e){return this.filter((function(t){return t===e})).length>0}}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i})}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,i),o.exports}!function(){"use strict";var e=function(){function e(e){this.KEY_SPACE=32,this.DEBOUNCE_TIMEOUT_IN_SECONDS=1,this.$module=e,this.debounceFormSubmitTimer=null}var t=e.prototype;return t.handleKeyDown=function(e){var t=e.target;"button"===t.getAttribute("role")&&e.keyCode===this.KEY_SPACE&&(e.preventDefault(),t.click())},t.debounce=function(e){var t=this;if("true"===e.target.getAttribute("data-prevent-double-click"))return this.debounceFormSubmitTimer?(e.preventDefault(),!1):void(this.debounceFormSubmitTimer=setTimeout((function(){t.debounceFormSubmitTimer=null}),1e3*this.DEBOUNCE_TIMEOUT_IN_SECONDS))},t.init=function(){this.$module.addEventListener("keydown",this.handleKeyDown.bind(this)),this.$module.addEventListener("click",this.debounce.bind(this))},e}(),t=function(){function e(e){this.$module=e,this.$textarea=e.querySelector(".nhsuk-js-character-count"),this.$visibleCountMessage=null,this.$screenReaderCountMessage=null,this.lastInputTimestamp=null}var t=e.prototype;return t.init=function(){if(this.$textarea){var t=this.$module,i=this.$textarea,n=document.getElementById(i.id+"-info");i.insertAdjacentElement("afterend",n);var s=document.createElement("div");s.className="nhsuk-character-count__sr-status nhsuk-u-visually-hidden",s.setAttribute("aria-live","polite"),this.$screenReaderCountMessage=s,n.insertAdjacentElement("afterend",s);var o=document.createElement("div");o.className=n.className,o.classList.add("nhsuk-character-count__status"),o.setAttribute("aria-hidden","true"),this.$visibleCountMessage=o,n.insertAdjacentElement("afterend",o),n.classList.add("nhsuk-u-visually-hidden"),this.options=e.getDataset(t);var a=this.defaults.characterCountAttribute;this.options.maxwords&&(a=this.defaults.wordCountAttribute),this.maxLength=t.getAttribute(a),this.maxLength&&(i.removeAttribute("maxlength"),this.bindChangeEvents(),"onpageshow"in window?window.addEventListener("pageshow",this.updateCountMessage.bind(this)):window.addEventListener("DOMContentLoaded",this.updateCountMessage.bind(this)),this.updateCountMessage())}},e.getDataset=function(e){var t={},i=e.attributes;if(i)for(var n=0;n<i.length;n++){var s=i[n],o=s.name.match(/^data-(.+)/);o&&(t[o[1]]=s.value)}return t},t.count=function(e){var t;this.options.maxwords?t=(e.match(/\S+/g)||[]).length:t=e.length;return t},t.bindChangeEvents=function(){var e=this.$textarea;e.addEventListener("keyup",this.handleKeyUp.bind(this)),e.addEventListener("focus",this.handleFocus.bind(this)),e.addEventListener("blur",this.handleBlur.bind(this))},t.checkIfValueChanged=function(){this.$textarea.oldValue||(this.$textarea.oldValue=""),this.$textarea.value!==this.$textarea.oldValue&&(this.$textarea.oldValue=this.$textarea.value,this.updateCountMessage())},t.updateCountMessage=function(){this.updateVisibleCountMessage(),this.updateScreenReaderCountMessage()},t.updateVisibleCountMessage=function(){var e=this.$textarea,t=this.$visibleCountMessage,i=this.maxLength-this.count(e.value);this.isOverThreshold()?t.classList.remove("nhsuk-character-count__message--disabled"):t.classList.add("nhsuk-character-count__message--disabled"),i<0?(e.classList.add("nhsuk-textarea--error"),t.classList.remove("nhsuk-hint"),t.classList.add("nhsuk-error-message")):(e.classList.remove("nhsuk-textarea--error"),t.classList.remove("nhsuk-error-message"),t.classList.add("nhsuk-hint")),t.innerHTML=this.formattedUpdateMessage()},t.updateScreenReaderCountMessage=function(){var e=this.$screenReaderCountMessage;this.isOverThreshold()?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",!0),e.innerHTML=this.formattedUpdateMessage()},t.formattedUpdateMessage=function(){var e,t=this.$textarea,i=this.options,n=this.maxLength-this.count(t.value),s="character";return i.maxwords&&(s="word"),s+=-1===n||1===n?"":"s",e=n<0?"too many":"remaining","You have "+Math.abs(n)+" "+s+" "+e},t.isOverThreshold=function(){var e=this.$textarea,t=this.options,i=this.count(e.value);return this.maxLength*(t.threshold?t.threshold:0)/100<=i},t.handleKeyUp=function(){this.updateVisibleCountMessage(),this.lastInputTimestamp=Date.now()},t.handleFocus=function(){var e=this;this.valueChecker=setInterval((function(){(!e.lastInputTimestamp||Date.now()-500>=e.lastInputTimestamp)&&e.checkIfValueChanged()}),1e3)},t.handleBlur=function(){clearInterval(this.valueChecker)},e}();t.prototype.defaults={characterCountAttribute:"data-maxlength",wordCountAttribute:"data-maxwords"};var n=function(e,t){if(e&&t){var i="true"===e.getAttribute(t)?"false":"true";e.setAttribute(t,i)}},s=function(e,t){if(e&&t){var i=e.getAttribute("aria-controls");if(i){var n=document.getElementById(i);n&&(e.checked?(n.classList.remove(t),e.setAttribute("aria-expanded",!0)):(n.classList.add(t),e.setAttribute("aria-expanded",!1)))}}};var o=function(e){e.form.querySelectorAll('input[type="checkbox"]').forEach((function(e){return s(e,"nhsuk-checkboxes__conditional--hidden")}))},a=function(e){var t=(void 0===e?{}:e).scope,i=(void 0===t?document:t).querySelectorAll(".nhsuk-checkboxes .nhsuk-checkboxes__input"),n=function(e){var t;(s(e.target,"nhsuk-checkboxes__conditional--hidden"),e.target.checked)&&(e.target.hasAttribute("data-checkbox-exclusive")?((t=e.target).form.querySelectorAll('input[type="checkbox"][data-checkbox-exclusive-group="'+t.getAttribute("data-checkbox-exclusive-group")+'"]').forEach((function(e){t.form===e.form&&e!==t&&(e.checked=!1)})),o(t)):function(e){e.form.querySelectorAll('input[type="checkbox"][data-checkbox-exclusive][data-checkbox-exclusive-group="'+e.getAttribute("data-checkbox-exclusive-group")+'"]').forEach((function(t){e.form===t.form&&(t.checked=!1)})),o(e)}(e.target))};"onpageshow"in window?window.addEventListener("pageshow",(function(){return i.forEach((function(e){return o(e)}))})):window.addEventListener("DOMContentLoaded",(function(){return i.forEach((function(e){return o(e)}))})),i.forEach((function(e){return o(e)})),i.forEach((function(e){e.addEventListener("change",n)}))},r=function(e){var t=(void 0===e?{}:e).scope,i=void 0===t?document:t;if(!("boolean"==typeof document.createElement("details").open)){var s=i.querySelectorAll("details");s.length&&s.forEach((function(e,t){e.hasAttribute("nhsuk-polyfilled")||function(e,t){e.setAttribute("nhsuk-polyfilled","true"),e.id||e.setAttribute("id","nhsuk-details"+t);var s=i.querySelector("#"+e.id+" .nhsuk-details__text");s.id||s.setAttribute("id","nhsuk-details__text"+t);var o=i.querySelector("#"+e.id+" .nhsuk-details__summary");o.setAttribute("role","button"),o.setAttribute("aria-controls",s.id),o.setAttribute("tabIndex","0"),!0==(null!==e.getAttribute("open"))?(o.setAttribute("aria-expanded","true"),s.setAttribute("aria-hidden","false")):(o.setAttribute("aria-expanded","false"),s.setAttribute("aria-hidden","true"),s.style.display="none"),o.addEventListener("click",(function(){n(o,"aria-expanded"),n(s,"aria-hidden"),s.style.display="true"===s.getAttribute("aria-hidden")?"none":"",e.hasAttribute("open")?e.removeAttribute("open"):e.setAttribute("open","open")})),o.addEventListener("keydown",(function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),o.click())}))}(e,t)}))}};function u(e){if("A"!==e.tagName||!1===e.href)return!1;var t=document.querySelector(e.hash);if(!t)return!1;var i=function(e){var t=e.closest("fieldset");if(t){var i=t.getElementsByTagName("legend");if(i.length){var n=i[0];if("checkbox"===e.type||"radio"===e.type)return n;var s=n.getBoundingClientRect().top,o=e.getBoundingClientRect();if(o.height&&window.innerHeight&&o.top+o.height-s<window.innerHeight/2)return n}}return document.querySelector("label[for='"+e.getAttribute("id")+"']")||e.closest("label")}(t);return!!i&&(i.scrollIntoView(),t.focus({preventScroll:!0}),!0)}function h(e){u(e.target)&&e.preventDefault()}var d=function(){function e(){this.menuIsOpen=!1,this.navigation=document.querySelector(".nhsuk-navigation"),this.navigationList=document.querySelector(".nhsuk-header__navigation-list"),this.mobileMenu=document.createElement("ul"),this.mobileMenuToggleButton=document.querySelector(".nhsuk-header__menu-toggle"),this.mobileMenuCloseButton=document.createElement("button"),this.mobileMenuContainer=document.querySelector(".nhsuk-mobile-menu-container"),this.breakpoints=[],this.width=document.body.offsetWidth}var t=e.prototype;return t.init=function(){var e=this;this.navigation&&this.navigationList&&this.mobileMenuToggleButton&&this.mobileMenuContainer&&(this.setupMobileMenu(),this.calculateBreakpoints(),this.updateNavigation(),this.doOnOrientationChange(),this.handleResize=this.debounce((function(){e.calculateBreakpoints(),e.updateNavigation()})),this.mobileMenuToggleButton.addEventListener("click",this.toggleMobileMenu.bind(this)),window.addEventListener("resize",this.handleResize),window.addEventListener("orientationchange",this.doOnOrientationChange()))},t.debounce=function(e,t){var i,n=this;return void 0===t&&(t=100),function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];clearTimeout(i),i=setTimeout((function(){e.apply(n,o)}),t)}},t.calculateBreakpoints=function(){for(var e=window.getComputedStyle(this.navigationList).getPropertyValue("gap"),t=Number(e.replace("px","")),i=0,n=0;n<this.navigationList.children.length;n++)i+=this.navigationList.children[n].offsetWidth+t,this.breakpoints[n]=i},t.setupMobileMenu=function(){this.mobileMenuContainer.appendChild(this.mobileMenu),this.mobileMenu.classList.add("nhsuk-header__drop-down","nhsuk-header__drop-down--hidden")},t.closeMobileMenu=function(){this.menuIsOpen=!1,this.mobileMenu.classList.add("nhsuk-header__drop-down--hidden"),this.navigation.style.marginBottom=0,this.mobileMenuToggleButton.setAttribute("aria-expanded","false"),this.mobileMenuToggleButton.focus(),this.mobileMenuCloseButton.removeEventListener("click",this.closeMobileMenu.bind(this)),document.removeEventListener("keydown",this.handleEscapeKey.bind(this))},t.handleEscapeKey=function(e){"Escape"===e.key&&this.closeMobileMenu()},t.openMobileMenu=function(){this.menuIsOpen=!0,this.mobileMenu.classList.remove("nhsuk-header__drop-down--hidden");var e=this.mobileMenu.offsetHeight;this.navigation.style.marginBottom=e+"px",this.mobileMenuToggleButton.setAttribute("aria-expanded","true"),document.addEventListener("keydown",this.handleEscapeKey.bind(this)),this.mobileMenuCloseButton.addEventListener("click",this.closeMobileMenu.bind(this))},t.toggleMobileMenu=function(){this.menuIsOpen?this.closeMobileMenu():this.openMobileMenu()},t.updateNavigation=function(){var e=this.navigationList.offsetWidth,t=this.navigationList.children.length;if(e<this.breakpoints[t-1]){if(this.mobileMenuToggleButton.classList.add("nhsuk-header__menu-toggle--visible"),this.mobileMenuContainer.classList.add("nhsuk-mobile-menu-container--visible"),2===t)return;for(;e<this.breakpoints[t-1];)this.mobileMenu.insertBefore(this.navigationList.children[t-2],this.mobileMenu.firstChild),t-=1}else if(e>this.breakpoints[t])for(;e>this.breakpoints[t];)this.navigationList.insertBefore(this.mobileMenu.removeChild(this.mobileMenu.firstChild),this.mobileMenuContainer),t+=1;this.mobileMenu.children.length||(this.mobileMenuToggleButton.classList.remove("nhsuk-header__menu-toggle--visible"),this.mobileMenuContainer.classList.remove("nhsuk-mobile-menu-container--visible")),document.body.offsetWidth!==this.width&&this.menuIsOpen&&this.closeMobileMenu()},t.doOnOrientationChange=function(){var e=this;if(90===window.orientation)setTimeout((function(){e.calculateBreakpoints(),e.updateNavigation()}),200)},e}(),c=function(){function e(e,t,i,n){this.$module=e,this.namespace=t,this.responsive=i,this.historyEnabled=n,this.$tabs=e.querySelectorAll("."+this.namespace+"__tab"),this.keys={down:40,left:37,right:39,up:38},this.jsHiddenClass=this.namespace+"__panel--hidden",this.showEvent=new CustomEvent("tab.show"),this.hideEvent=new CustomEvent("tab.hide")}var t=e.prototype;return t.init=function(){"function"==typeof window.matchMedia&&this.responsive?this.setupResponsiveChecks():this.setup()},t.setupResponsiveChecks=function(){this.mql=window.matchMedia("(min-width: 641px)"),"addEventListener"in this.mql?this.mql.addEventListener("change",this.checkMode.bind(this)):this.mql.addListener(this.checkMode.bind(this)),this.checkMode()},t.checkMode=function(){this.mql.matches?this.setup():this.teardown()},t.setup=function(){var e=this,t=this.$module,i=this.$tabs,n=t.querySelector("."+this.namespace+"__list"),s=t.querySelectorAll("."+this.namespace+"__list-item");if(i&&n&&s){n.setAttribute("role","tablist"),s.forEach((function(e){e.setAttribute("role","presentation")})),i.forEach((function(t){e.setAttributes(t),t.boundTabClick=e.onTabClick.bind(e),t.boundTabKeydown=e.onTabKeydown.bind(e),t.addEventListener("click",t.boundTabClick,!0),t.addEventListener("keydown",t.boundTabKeydown,!0),e.hideTab(t)}));var o=this.getTab(window.location.hash)||this.$tabs[0];this.showTab(o),this.historyEnabled&&(t.boundOnHashChange=this.onHashChange.bind(this),window.addEventListener("hashchange",t.boundOnHashChange,!0))}},t.teardown=function(){var e=this,t=this.$module,i=this.$tabs,n=t.querySelector("."+this.namespace+"__list"),s=t.querySelectorAll("."+this.namespace+"__list-item");i&&n&&s&&(n.removeAttribute("role"),s.forEach((function(e){e.removeAttribute("role","presentation")})),i.forEach((function(t){t.removeEventListener("click",t.boundTabClick,!0),t.removeEventListener("keydown",t.boundTabKeydown,!0),e.unsetAttributes(t)})),this.historyEnabled&&window.removeEventListener("hashchange",t.boundOnHashChange,!0))},t.onHashChange=function(){var e=window.location.hash,t=this.getTab(e);if(t)if(this.changingHash)this.changingHash=!1;else{var i=this.getCurrentTab();this.hideTab(i),this.showTab(t),t.focus()}},t.hideTab=function(e){this.unhighlightTab(e),this.hidePanel(e)},t.showTab=function(e){this.highlightTab(e),this.showPanel(e)},t.getTab=function(e){return this.$module.querySelector("."+this.namespace+'__tab[href="'+e+'"]')},t.setAttributes=function(t){var i=e.getHref(t).slice(1);t.setAttribute("id","tab_"+i),t.setAttribute("role","tab"),t.setAttribute("aria-controls",i),t.setAttribute("aria-selected","false"),t.setAttribute("tabindex","-1");var n=this.getPanel(t);n.setAttribute("role","tabpanel"),n.setAttribute("aria-labelledby",t.id),n.classList.add(this.jsHiddenClass)},t.unsetAttributes=function(e){e.removeAttribute("id"),e.removeAttribute("role"),e.removeAttribute("aria-controls"),e.removeAttribute("aria-selected"),e.removeAttribute("tabindex");var t=this.getPanel(e);t.removeAttribute("role"),t.removeAttribute("aria-labelledby"),t.removeAttribute("tabindex"),t.classList.remove(this.jsHiddenClass)},t.onTabClick=function(e){e.target.classList.contains(this.namespace+"__tab")||(e.stopPropagation(),e.preventDefault()),e.preventDefault();var t=e.target,i=this.getCurrentTab();this.hideTab(i),this.showTab(t),this.createHistoryEntry(t)},t.createHistoryEntry=function(t){if(this.historyEnabled){var i=this.getPanel(t),n=i.id;i.id="",this.changingHash=!0,window.location.hash=e.getHref(t).slice(1),i.id=n}},t.onTabKeydown=function(e){switch(e.keyCode){case this.keys.left:case this.keys.up:this.activatePreviousTab(),e.preventDefault();break;case this.keys.right:case this.keys.down:this.activateNextTab(),e.preventDefault()}},t.activateNextTab=function(){var e,t=this.getCurrentTab(),i=t.parentNode.nextElementSibling;i&&(e=i.querySelector("."+this.namespace+"__tab")),e&&(this.hideTab(t),this.showTab(e),e.focus(),this.createHistoryEntry(e))},t.activatePreviousTab=function(){var e,t=this.getCurrentTab(),i=t.parentNode.previousElementSibling;i&&(e=i.querySelector("."+this.namespace+"__tab")),e&&(this.hideTab(t),this.showTab(e),e.focus(),this.createHistoryEntry(e))},t.getPanel=function(t){return this.$module.querySelector(e.getHref(t))},t.showPanel=function(e){var t=this.getPanel(e);t.classList.remove(this.jsHiddenClass),t.dispatchEvent(this.showEvent)},t.hidePanel=function(e){var t=this.getPanel(e);t.classList.add(this.jsHiddenClass),t.dispatchEvent(this.hideEvent)},t.unhighlightTab=function(e){e.setAttribute("aria-selected","false"),e.parentNode.classList.remove(this.namespace+"__list-item--selected"),e.setAttribute("tabindex","-1")},t.highlightTab=function(e){e.setAttribute("aria-selected","true"),e.parentNode.classList.add(this.namespace+"__list-item--selected"),e.setAttribute("tabindex","0")},t.getCurrentTab=function(){return this.$module.querySelector("."+this.namespace+"__list-item--selected ."+this.namespace+"__tab")},e.getHref=function(e){var t=e.getAttribute("href");return t.slice(t.indexOf("#"),t.length)},e}();i(621);function l(i){var n,o;(void 0===(o=(void 0===(n={scope:i})?{}:n).scope)?document:o).querySelectorAll('[data-module="nhsuk-button"]').forEach((function(t){new e(t).init()})),function(e){var i=(void 0===e?{}:e).scope;(void 0===i?document:i).querySelectorAll('[data-module="nhsuk-character-count"]').forEach((function(e){new t(e).init()}))}({scope:i}),a({scope:i}),r({scope:i}),function(e){var t=void 0===e?{}:e,i=t.focusOnPageLoad,n=void 0===i||i,s=t.scope,o=(void 0===s?document:s).querySelector(".nhsuk-error-summary");o&&(n&&o.focus(),o.addEventListener("click",h))}({scope:i}),function(e){var t=(void 0===e?{}:e).scope,i=(void 0===t?document:t).querySelectorAll(".nhsuk-radios--conditional .nhsuk-radios__input"),n=function(){i.forEach((function(e){return s(e,"nhsuk-radios__conditional--hidden")}))};"onpageshow"in window?window.addEventListener("pageshow",n):window.addEventListener("DOMContentLoaded",n),n(),i.forEach((function(e){e.addEventListener("change",n)}))}({scope:i}),function(e){var t=void 0===e?{}:e,i=t.namespace,n=void 0===i?"nhsuk-tabs":i,s=t.responsive,o=void 0===s||s,a=t.historyEnabled,r=void 0===a||a,u=t.scope;(void 0===u?document:u).querySelectorAll('[data-module="'+n+'"]').forEach((function(e){new c(e,n,o,r).init()}))}({scope:i})}document.addEventListener("DOMContentLoaded",(function(){(new d).init(),function(){var e=document.querySelector(".nhsuk-skip-link");if(e&&e instanceof HTMLAnchorElement){var t=e.hash.split("#").pop(),i=t?document.getElementById(t):null;i&&e.addEventListener("click",(function(){return function(e,t){void 0===t&&(t={});var i=e.getAttribute("tabindex");function n(){e.removeEventListener("blur",n),t.onBlur&&t.onBlur.call(e),i||e.removeAttribute("tabindex")}i||e.setAttribute("tabindex","-1"),e.addEventListener("focus",(function t(){e.removeEventListener("focus",t),e.addEventListener("blur",n)})),t.onBeforeFocus&&t.onBeforeFocus.call(e),e.focus()}(i,{onBeforeFocus:function(){i.classList.add("nhsuk-skip-link-focused-element")},onBlur:function(){i.classList.remove("nhsuk-skip-link-focused-element")}})}))}}(),l(document)}))}()}();//# sourceMappingURL=nhsuk-9.3.0.min.js.map
