{% extends "layouts/page-full-width.njk" %}

{% set mainClasses = "nhsuk-u-padding-top-4" %}

{% block header %}
  {% include "partials/banner.njk" %}
{% endblock %}

{% block beforeContent %}
  {{ breadcrumb({
    items: [
      {
        text: "NHS.UK frontend",
        href: baseUrl
      },
      {
        text: "Components",
        href: baseUrl ~ "#components"
      }
    ]
  }) }}
{% endblock %}

{% block content %}
  <section class="nhsuk-main-wrapper nhsuk-main-wrapper--s">
    <div class="nhsuk-width-container">

      <div class="nhsuk-grid-row">
        <div class="nhsuk-grid-column-two-thirds">
          <h1 class="nhsuk-heading-xl">{{ pageName }}</h1>
          <p class="nhsuk-body">These examples are used for automated tests and may not follow service manual best practice.</p>
        </div>
      </div>

    </div>
  </section>

{% for exampleName, example in examples %}
  {% set options = example.options -%}
  {% set isFullWidth = options.width == false -%}
  {% set isReverse = options.layout == "background-blue" -%}

  {% if not options.hidden %}
  <section id="{{ exampleName | slugify }}" class="nhsuk-main-wrapper app-wrapper {%- if options.layout %} app-wrapper--{{ options.layout }}{%- endif %}">
    <div class="nhsuk-width-container">
      <div class="nhsuk-grid-row">
        <div class="nhsuk-grid-column-{{ options.width | default("two-thirds", true) }}">
          <h3 class="nhsuk-heading-s nhsuk-u-margin-bottom-2 nhsuk-u-margin-top-4">
            {{- name ~ " " ~ exampleName -}}
          </h3>
          <p class="nhsuk-body nhsuk-u-margin-bottom-6">
            <a {{- nhsukAttributes({
              href: exampleName | slugify ~ "/",
              class: "nhsuk-link nhsuk-link--no-visited-state" ~ (" nhsuk-link--reverse" if isReverse else ""),
              rel: "noreferrer noopener",
              target: "_blank"
            }) -}}>
              Open this example in a new tab<span class="nhsuk-u-visually-hidden">: {{ name ~ " " ~ exampleName }}</span>
            </a>
          </p>
          {{ renderExample(component, example, loop.index) if not isFullWidth }}
        </div>
      </div>
    </div>
    {{ renderExample(component, example, loop.index) if isFullWidth }}
  </section>
  {% endif %}
{% endfor %}
{% endblock %}
