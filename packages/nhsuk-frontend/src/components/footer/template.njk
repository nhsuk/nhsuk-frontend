{% from "../../macros/attributes.njk" import nhsukAttributes %}

{%- set copyrightText = params.copyright if params.copyright else 'Â© NHS England' -%}

<footer role="contentinfo">
  <div class="nhsuk-footer-container">
    <div class="nhsuk-width-container">
      <h2 class="nhsuk-u-visually-hidden">Support links</h2>
      <div class="nhsuk-footer
        {%- if params.classes %} {{ params.classes }}{% endif %}"
        {{- nhsukAttributes(params.attributes) }}>
          {% if  not params.linksColumn2 %}
              <ul class="nhsuk-footer__list">
                {%- for item in params.links %}
                  <li class="nhsuk-footer__list-item nhsuk-footer-default__list-item">
                    <a class="nhsuk-footer__list-item-link" href="{{ item.URL }}">{{ item.label }}</a>
                  </li>
                {%- endfor %}
                {%- for item in params.linksColumn2 %}
                  <li class="nhsuk-footer__list-item nhsuk-footer-default__list-item">
                    <a class="nhsuk-footer__list-item-link" href="{{ item.URL }}">{{ item.label }}</a>
                  </li>
                {%- endfor %}
                {%- for item in params.linksColumn3 %}
                  <li class="nhsuk-footer__list-item nhsuk-footer-default__list-item">
                    <a class="nhsuk-footer__list-item-link" href="{{ item.URL }}">{{ item.label }}</a>
                  </li>
                {%- endfor %}
                {%- for item in params.metaLinks %}
                  <li class="nhsuk-footer__list-item nhsuk-footer-default__list-item">
                    <a class="nhsuk-footer__list-item-link" href="{{ item.URL }}">{{ item.label }}</a>
                  </li>
                {%- endfor %}
              </ul>
              <div>
                <p class="nhsuk-footer__copyright">{{ copyrightText }}</p>
              </div>
      </div> {# close nhsuk-footer #}
          {% else %}
            <ul class="nhsuk-footer__list">
              {% for item in params.links -%}
              {# first column's link items #}
                  <li class="nhsuk-footer__list-item">
                    <a class="nhsuk-footer__list-item-link" href="{{ item.URL }}">{{ item.label }}</a>
                  </li>
              {%- endfor %}
            </ul>
            <ul class="nhsuk-footer__list">
              {% for item in params.linksColumn2 -%}
              {# second column's link items #}
                  <li class="nhsuk-footer__list-item">
                    <a class="nhsuk-footer__list-item-link" href="{{ item.URL }}">{{ item.label }}</a>
                  </li>
              {%- endfor %}
            </ul>
            <ul class="nhsuk-footer__list">
              {% for item in params.linksColumn3 -%}
              {# third column's link items #}
                  <li class="nhsuk-footer__list-item">
                    <a class="nhsuk-footer__list-item-link" href="{{ item.URL }}">{{ item.label }}</a>
                  </li>
              {%- endfor %}
            </ul>
            {% if params.metaLinks -%}
            <ul class="nhsuk-footer__list nhsuk-footer__meta">
              {% for item in params.metaLinks -%}
              {# policy link items #}
                  <li class="nhsuk-footer__list-item">
                    <a class="nhsuk-footer__list-item-link" href="{{ item.URL }}">{{ item.label }}</a>
                  </li>
              {%- endfor %}
            </ul>
            {%- endif %}
      </div> {# close nhsuk-footer #}
      <div>
        <p class="nhsuk-footer__copyright">{{ copyrightText }}</p>
      </div>
      {% endif %}
    </div> {# close nhsuk-width-container #}
  </div> {# close nhsuk-footer-container #}
</footer>
