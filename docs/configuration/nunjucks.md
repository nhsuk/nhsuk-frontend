# Use Nunjucks

You can use our Nunjucks code to generate the HTML for pages and components.

You can also change the HTML that's generated by passing options into the Nunjucks code.

If you use Nunjucks, your application will be easier to update when a new version of NHS.UK frontend is released.

To use Nunjucks, your application and any frameworks that support your application must use Node.js.

You do not need to follow this guidance to [use Nunjucks macros in the NHS.UK prototype kit](https://prototype-kit.service-manual.nhs.uk).

## Before you start

You must first:

- [install NHS.UK frontend with Node.js package manager (npm)](../installation/installing-with-npm.md)
- make sure you've installed Nunjucks so it's working in your environment

## Set up Nunjucks and use the page template

1. Configure Nunjucks with paths to NHS.UK frontend, so Nunjucks knows where to find the NHS.UK frontend components, macros and page template:

   For example:

   ```js
   nunjucks.configure([
     'node_modules/nhsuk-frontend/dist/nhsuk/components',
     'node_modules/nhsuk-frontend/dist/nhsuk/macros',
     'node_modules/nhsuk-frontend/dist/nhsuk',
     'node_modules/nhsuk-frontend/dist',
     '<YOUR-VIEWS-FOLDER>'
   ]);
   ```

2. Use the NHS.UK frontend template by adding the following at the top of your view file:

   ```njk
   {% extends "template.njk" %}
   ```

3. Go to the [default page template example](https://service-manual.nhs.uk/design-system/styles/page-template#default-page-template) on the design system in the NHS digital service manual, then copy the Nunjucks code into your view file.

You may need to change the paths in the Nunjucks code to get the CSS, assets and JavaScript working.

Find out how to [change how the page template works](https://service-manual.nhs.uk/design-system/styles/page-template#changing-template-content).

## Adding a component

Go to [any component page](https://service-manual.nhs.uk/design-system/components) on the design system in the NHS digital service manual, then copy the Nunjucks macro code from the **Nunjucks** tab of any example.

For example, to add the breadcrumbs component to your page, copy the code from the **Nunjucks** tab in the first example on the [breadcrumbs component page](https://service-manual.nhs.uk/design-system/components/breadcrumbs).

## Configuring a component

You can use options to configure how a component looks or behaves.

For example, use the `text` option to configure the text on [buttons](https://service-manual.nhs.uk/design-system/components/buttons):

```njk
{{ button({
  text: "Example button text"
}) }}
```

To see the options for a component, go to [any component page](https://service-manual.nhs.uk/design-system/components) on the design system in the NHS digital service manual, select the **Nunjucks** tab of an example, then select **Nunjucks macro options**.

You must sanitise any HTML you pass in to Nunjucks macros you're using in your live application to protect your website against cross-site scripting (XSS) attacks. You can read more about [XSS](https://developer.mozilla.org/en-US/docs/Web/Security/Attacks/XSS) on the MDN website.

## Thanks to the Government Digital Service (GDS)

This documentation has been taken from [Use Nunjucks](https://frontend.design-system.service.gov.uk/use-nunjucks/) with a few minor adaptations.
