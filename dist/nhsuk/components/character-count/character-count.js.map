{"version":3,"file":"character-count.js","sources":["../../../../src/nhsuk/components/character-count/character-count.mjs"],"sourcesContent":null,"names":["CharacterCount","ConfigurableComponent","constructor","$root","config","_ref","_this$config$maxwords","lastInputTimestamp","lastInputValue","valueChecker","$textarea","querySelector","HTMLTextAreaElement","HTMLInputElement","ElementError","component","element","expectedType","identifier","fallbackLimitMessageId","id","$fallbackLimitMessage","document","getElementById","$errorMessage","insertAdjacentElement","$screenReaderCountMessage","createElement","className","setAttribute","$visibleCountMessage","classList","add","maxLength","maxwords","maxlength","Infinity","removeAttribute","bindChangeEvents","window","addEventListener","updateCountMessage","count","text","length","_text$match","tokens","match","handleKeyUp","handleFocus","handleBlur","checkIfValueChanged","value","updateVisibleCountMessage","updateScreenReaderCountMessage","remainingNumber","isError","toggle","isOverThreshold","innerHTML","formattedUpdateMessage","charVerb","charNoun","displayNumber","Math","abs","_this$config$threshol","currentLength","thresholdPercent","threshold","thresholdValue","Date","now","setInterval","clearInterval","moduleName","defaults","Object","freeze","schema","properties","type","initCharacterCounts","options","scope","$scope","normaliseOptions","$characterCounts","querySelectorAll","forEach"],"mappings":"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"}