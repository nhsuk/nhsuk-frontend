{"version":3,"file":"character-count.js","sources":["../../../../src/nhsuk/components/character-count/character-count.mjs"],"sourcesContent":null,"names":["CharacterCount","ConfigurableComponent","constructor","$root","config","_ref","_this$config$maxwords","lastInputTimestamp","lastInputValue","valueChecker","$textarea","querySelector","HTMLTextAreaElement","HTMLInputElement","ElementError","component","element","expectedType","identifier","errors","validateConfig","schema","ConfigError","formatErrorMessage","i18n","I18n","locale","closestAttributeValue","maxLength","maxwords","maxlength","Infinity","textareaDescriptionId","id","$textareaDescription","document","getElementById","$errorMessage","exec","textContent","t","count","insertAdjacentElement","$screenReaderCountMessage","createElement","className","setAttribute","$visibleCountMessage","classList","add","removeAttribute","bindChangeEvents","window","addEventListener","updateCountMessage","configOverride","datasetConfig","configOverrides","undefined","text","_text$match","tokens","match","length","handleKeyUp","handleFocus","handleBlur","checkIfValueChanged","value","updateVisibleCountMessage","updateScreenReaderCountMessage","remainingNumber","isError","toggle","isOverThreshold","formattedUpdateMessage","countType","formatCountMessage","translationKeySuffix","Math","abs","threshold","currentLength","thresholdValue","Date","now","setInterval","clearInterval","moduleName","defaults","Object","freeze","charactersUnderLimit","one","other","charactersAtLimit","charactersOverLimit","wordsUnderLimit","wordsAtLimit","wordsOverLimit","textareaDescription","properties","type","anyOf","required","errorMessage","initCharacterCounts","options","scope","$scope","normaliseOptions","$characterCounts","querySelectorAll","forEach"],"mappings":"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"}