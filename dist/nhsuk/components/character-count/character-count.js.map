{"version":3,"file":"character-count.js","sources":["../../../../src/nhsuk/components/character-count/character-count.mjs"],"sourcesContent":null,"names":["CharacterCount","Component","constructor","$root","_ref","_this$config$maxwords","lastInputTimestamp","lastInputValue","valueChecker","$textarea","querySelector","HTMLTextAreaElement","HTMLInputElement","ElementError","component","element","expectedType","identifier","fallbackLimitMessageId","id","$fallbackLimitMessage","document","getElementById","$errorMessage","insertAdjacentElement","$screenReaderCountMessage","createElement","className","setAttribute","$visibleCountMessage","classList","add","config","Object","assign","defaults","getDataset","maxLength","maxwords","maxlength","Infinity","removeAttribute","bindChangeEvents","window","addEventListener","updateCountMessage","$element","dataset","key","value","entries","Number","count","text","length","_text$match","tokens","match","handleKeyUp","handleFocus","handleBlur","checkIfValueChanged","updateVisibleCountMessage","updateScreenReaderCountMessage","remainingNumber","isError","toggle","isOverThreshold","innerHTML","formattedUpdateMessage","charVerb","charNoun","displayNumber","Math","abs","_this$config$threshol","currentLength","thresholdPercent","threshold","thresholdValue","Date","now","setInterval","clearInterval","moduleName","freeze","initCharacterCounts","options","_options$scope","$scope","scope","$characterCounts","querySelectorAll","forEach"],"mappings":"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"}