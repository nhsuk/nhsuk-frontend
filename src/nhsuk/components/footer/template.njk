{% from "nhsuk/macros/attributes.njk" import nhsukAttributes %}

{%- set copyrightText = params.copyright if params.copyright else "Â© NHS England" -%}
{%- set hasMultipleLinkLists = params.linksColumn2 or params.linksColumn3 or params.metaLinks %}

{% macro _footerList(items, modifier) %}
<ul class="nhsuk-footer__list{% if modifier %} nhsuk-footer__list--{{ modifier }}{% endif %}">
{% for item in items %}
  <li class="nhsuk-footer__list-item">
    <a class="nhsuk-footer__list-item-link" href="{{ item.href }}">{{ item.text }}</a>
  </li>
{% endfor %}
</ul>
{% endmacro %}

<footer class="nhsuk-footer
  {%- if params.classes %} {{ params.classes }}{% endif %}" role="contentinfo"
  {{- nhsukAttributes(params.attributes) }}>
  <div class="nhsuk-width-container {%- if params.containerClasses %} {{ params.containerClasses }}{% endif %}">
    <h2 class="nhsuk-u-visually-hidden">Support links</h2>
{% if hasMultipleLinkLists %}
    <div class="nhsuk-footer__columns">
      {{ _footerList(params.links) if params.links }}
      {{ _footerList(params.linksColumn2) if params.linksColumn2 }}
      {{ _footerList(params.linksColumn3) if params.linksColumn3 }}
      {{ _footerList(params.metaLinks, "meta") if params.metaLinks }}
    </div>
{% else %}
    {{ _footerList(params.links, "default") if params.links }}
{% endif %}
    <p class="nhsuk-footer__copyright">{{ copyrightText }}</p>
  </div>
</footer>
