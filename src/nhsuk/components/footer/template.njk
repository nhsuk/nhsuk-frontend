{% from "nhsuk/macros/attributes.njk" import nhsukAttributes %}

{% macro _footerList(items, modifier) %}
<ul class="nhsuk-footer__list">
{% for item in items %}
  <li class="nhsuk-footer__list-item">
    <a class="nhsuk-footer__list-item-link" href="{{ item.href }}"
      {{- nhsukAttributes(item.attributes) }}>
      {{- item.html | safe if item.html else item.text -}}
    </a>
  </li>
{% endfor %}
</ul>
{% endmacro %}

<footer class="nhsuk-footer
  {%- if params.classes %} {{ params.classes }}{% endif %}" role="contentinfo"
  {{- nhsukAttributes(params.attributes) }}>
  <div class="nhsuk-width-container {%- if params.containerClasses %} {{ params.containerClasses }}{% endif %}">
{% if params.navigation %}
  {% for row in params.navigation | batch(4) %}
    <div class="nhsuk-footer__navigation nhsuk-grid-row">
    {% for navigation in row %}
      <div class="nhsuk-grid-column-one-quarter">
      {% if navigation.title %}
        <h2 class="nhsuk-footer__heading nhsuk-heading-s">{{ navigation.title }}</h2>
      {% endif %}
        {{ _footerList(navigation.items) | indent(10) }}
      </div>
    {% endfor %}
    </div>
  {% endfor %}
{% endif %}
    <div class="nhsuk-footer__meta">
{% if params.meta %}
    {% if params.meta.items %}
      <h2 class="nhsuk-u-visually-hidden">{{ params.meta.visuallyHiddenTitle | default("Support links") }}</h2>
      {{ _footerList(params.meta.items) | indent(6) }}
    {% endif %}
    {% if params.meta.text %}
      <p class="nhsuk-body-s">{{ params.meta.text }}</p>
    {% elif params.meta.html %}
      {{ params.meta.html | safe }}
    {% endif %}
{% endif %}
    {% if params.copyright.html %}
      {{ params.copyright.html | safe }}
    {% else %}
      <p class="nhsuk-body-s">{{ params.copyright.text | default("Â© NHS England") }}</p>
    {% endif %}
    </div>
  </div>
</footer>
