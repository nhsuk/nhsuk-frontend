{% from "nhsuk/macros/attributes.njk" import nhsukAttributes %}
{% from "nhsuk/macros/icon.njk" import nhsukIcon %}

{%- set previous = {
  href: params.previousUrl,
  labelText: params.previousPage
} if (params.previousUrl or params.previousPage) else params.previous -%}

{%- set next = {
  href: params.nextUrl,
  labelText: params.nextPage
} if (params.nextUrl or params.nextPage) else params.next -%}

<nav {%- if params.id %} id="{{ params.id }}"{% endif %} class="nhsuk-pagination
{%- if params.classes %} {{ params.classes }}{% endif %}" role="navigation" aria-label="{{ params.landmarkLabel | default("Pagination", true) }}"
{{- nhsukAttributes(params.attributes) }}>
  <ul class="nhsuk-list nhsuk-pagination__list">
  {% if previous and previous.href %}
    <li class="nhsuk-pagination-item--previous">
      <a class="nhsuk-pagination__link nhsuk-pagination__link--prev" href="{{ previous.href }}" rel="previous"
        {{- nhsukAttributes(previous.attributes) }}>
        <span class="nhsuk-pagination__title">
        {% if previous.html or previous.text %}
          {{ previous.html | safe | trim | indent(8) if previous.html else previous.text }}
        {% else %}
          Previous<span class="nhsuk-u-visually-hidden"> page</span>
        {% endif %}
        </span>
        {% if previous.labelText %}
        <span class="nhsuk-u-visually-hidden">:</span>
        <span class="nhsuk-pagination__page">{{ previous.labelText }}</span>
        {% endif %}
        {{ nhsukIcon("arrow-left") | trim | indent(8) }}
      </a>
    </li>
  {% endif %}
  {% if next and next.href %}
    <li class="nhsuk-pagination-item--next">
      <a class="nhsuk-pagination__link nhsuk-pagination__link--next" href="{{ next.href }}" rel="next"
        {{- nhsukAttributes(next.attributes) }}>
        <span class="nhsuk-pagination__title">
        {% if next.html or next.text %}
          {{ next.html | safe | trim | indent(8) if next.html else next.text }}
        {% else %}
          Next<span class="nhsuk-u-visually-hidden"> page</span>
        {% endif %}
        </span>
        {% if next.labelText %}
        <span class="nhsuk-u-visually-hidden">:</span>
        <span class="nhsuk-pagination__page">{{ next.labelText }}</span>
        {% endif %}
        {{ nhsukIcon("arrow-right") | trim | indent(8) }}
      </a>
    </li>
  {% endif %}
  </ul>
</nav>
