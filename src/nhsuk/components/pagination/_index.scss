@use "sass:math";
@use "../../core/settings" as *;
@use "../../core/tools" as *;
@use "../../core/helpers" as *;

////
/// Pagination component
///
/// 1. Padding to give the icon spacing.
/// 2. Append the word 'page' after next and
///    previous on print stylesheets to make it easier
///    to understand in print context.
///
/// @group components/pagination
////

@include nhsuk-exports("nhsuk/components/pagination") {
  $_small-icon-size: nhsuk-em($nhsuk-icon-size, 19px);
  $_large-icon-size: nhsuk-em($nhsuk-icon-size-large, 26px);

  // Previous and next pages variant
  .nhsuk-pagination {
    @include nhsuk-clearfix;
    @include nhsuk-responsive-margin(7, "top");
    @include nhsuk-responsive-margin(7, "bottom");
  }

  .nhsuk-pagination-item {
    width: 50%;
  }

  .nhsuk-pagination__prev {
    float: left;
    margin-left: nhsuk-spacing(-2);
    text-align: left;

    .nhsuk-icon {
      left: nhsuk-em(nhsuk-spacing(2) - 6px, 26px);
    }

    .nhsuk-pagination__link-title {
      padding-left: $_large-icon-size; // [1]
    }
  }

  .nhsuk-pagination__next {
    float: right;
    margin-right: nhsuk-spacing(-2);
    text-align: right;

    .nhsuk-icon {
      right: nhsuk-em(nhsuk-spacing(2) - 6px, 26px);
    }

    .nhsuk-pagination__link-title {
      padding-right: $_large-icon-size; // [1]
    }
  }

  .nhsuk-pagination__link {
    display: inline-block;
    position: relative;
    width: 100%;
    width: fit-content;
    padding: 0 nhsuk-spacing(2);
    @include nhsuk-font-size(26);

    @include nhsuk-print-colour {
      @include nhsuk-link-style-text($nhsuk-print-text-colour);
    }

    &,
    &:hover,
    &:hover:visited {
      text-decoration: none;
    }

    .nhsuk-icon {
      position: absolute;
      top: 0;
      height: $_large-icon-size;
      width: $_large-icon-size;
    }
  }

  .nhsuk-pagination__link-title {
    display: block;

    @include nhsuk-media-query($media-type: print) {
      &::after {
        content: " page"; // [2]
      }
    }
  }

  .nhsuk-pagination__link-label {
    display: block;
    @include nhsuk-link-decoration;
    @include nhsuk-font-size(16);

    .nhsuk-pagination__link:hover & {
      @include nhsuk-link-hover-decoration;
    }

    .nhsuk-pagination__link:focus & {
      text-decoration: none;
    }
  }

  // Numbered pages variant

  // In a numbered list, the previous link, numbered page links,
  // and next link should all line up
  .nhsuk-pagination--numbered .nhsuk-pagination__prev,
  .nhsuk-pagination--numbered .nhsuk-pagination__next,
  .nhsuk-pagination__item {
    box-sizing: border-box;
    position: relative;
    width: auto;
    min-width: 45px;
    min-height: 45px;
    padding: nhsuk-spacing(2);
    text-align: center;
    margin: 0;
    float: left;
    @include nhsuk-font(19);

    &:hover {
      background-color: nhsuk-colour("grey-4");
    }
  }

  // Container for the list of numbered items
  .nhsuk-pagination__list {
    margin: 0;
    padding: 0;
    list-style: none;
  }

  .nhsuk-pagination__item--ellipses {
    font-weight: $nhsuk-font-bold;
    color: $nhsuk-secondary-text-colour;

    &:hover {
      background-color: transparent;
    }
  }

  .nhsuk-pagination--numbered .nhsuk-pagination__link {
    position: static;
    width: auto;
    min-width: nhsuk-spacing(3);
    padding: 0;
    vertical-align: middle;
    text-decoration: underline;
    @include nhsuk-font(19);

    &:focus {
      text-decoration: none;
    }

    // Increase the touch area for the link to the parent element.
    @media screen {
      &::after {
        content: "";
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
      }
    }
  }

  // Current number
  .nhsuk-pagination--numbered .nhsuk-pagination__item--current,
  .nhsuk-pagination--numbered .nhsuk-pagination__item--current:hover {
    background-color: nhsuk-colour("blue");
  }

  .nhsuk-pagination__item--current .nhsuk-pagination__link {
    font-weight: $nhsuk-font-bold;
    @include nhsuk-link-style-reverse;
  }

  .nhsuk-pagination--numbered .nhsuk-pagination__link-title {
    display: inline;
    @include nhsuk-font(19);
  }

  .nhsuk-pagination--numbered .nhsuk-icon {
    top: 50%;
    height: $_small-icon-size;
    width: $_small-icon-size;
    margin-top: math.div($_small-icon-size, -2);
    margin-bottom: 0;
  }

  .nhsuk-pagination--numbered .nhsuk-icon--arrow-left {
    left: nhsuk-spacing(1);
  }

  .nhsuk-pagination--numbered .nhsuk-icon--arrow-right {
    right: nhsuk-spacing(1);
  }

  .nhsuk-pagination--numbered .nhsuk-pagination__next .nhsuk-pagination__link-title {
    padding-right: $_small-icon-size;
  }

  .nhsuk-pagination--numbered .nhsuk-pagination__prev .nhsuk-pagination__link-title {
    padding-left: $_small-icon-size;
  }
}
